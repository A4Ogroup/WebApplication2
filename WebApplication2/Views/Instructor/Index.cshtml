@inject LconsultDBContext _context
@{
    var courses = _context.Courses.OrderByDescending(c => c.AverageRating)
     .Take(3).ToList();

    var reviews = _context.Reviews.OrderByDescending(c => c.Rate)
            .Take(3).ToList();
}
@{
    Layout = "_InstructorLayout";
}

<head>
    <style>

        .course-reviews {
            background-color: white;
            padding: 20px;
            border-radius: 4px;
            margin: 10px; /* Adjusted for inner spacing */
            max-width: calc(50% - 20px); /* Allows 3 cards per row with spacing */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            flex: 1 1 calc(50% - 20px); /* Allows 3 cards per row */
            box-sizing: border-box;
        }

        .title {
            color: #f00;
            font-size: 18px;
            font-weight: bold;
        }

        .rating-summary {
            font-size: 24px;
            margin-bottom: 10px;
        }

            .rating-summary .stars {
                color: #f00;
            }

        .review-card {
            margin-bottom: 10px;
        }

            .review-card .stars {
                color: #f00;
            }

        .checked {
            color: red;
        }

        /* Flexbox container for review cards */
        .reviews-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin: -10px; /* Adjust for inner padding */
        }

            /* Inner padding for review cards */
            .reviews-container > .course-reviews {
                margin: 10px;
            }

        /* Responsive styles */
        @@media (max-width: 992px) {
            .course-reviews {
                flex: 1 1 calc(50% - 20px); /* 2 cards per row */
            }
        }

        @@media (max-width: 768px) {
            .course-reviews {
                flex: 1 1 calc(100% - 20px); /* 1 card per row */
            }
        }

        /* Ensure the footer is not overlapped */
        .footer {
            clear: both;
            position: relative;
            z-index: 10;
        }

        .container, .row, .padding {
            overflow: hidden;
        }

        .checked {
            color: red;
        }
    </style>
</head>
    <!-- Page Content -->
    <!-- Banner Starts Here -->
    <div class="banner header-text">
      <div class="owl-banner owl-carousel">
        <div class="banner-item-01">
          <div class="text-content">
            <h4>Best Courses</h4>
            <h2>Don not waste your time, search and find The best courses</h2>
          </div>
        </div>
      </div>
    </div>
    <!-- Banner Ends Here -->


    <!-- Top Courses starts Here -->
<div class="latest-products">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-heading">
                    <h2>Top Courses</h2>
                  @*   <a asp-controller="home" asp-action="course">view all courses <i class="fa fa-angle-right"></i></a> *@
                </div>
            </div>
            @foreach (var items in courses)
            {
                <div class="col-md-4">
                    <div class="product-item">
                        @if (@items.Picture is null)
                        {
                            items.Picture = "noimage.png";

                        }<a href="#"><img src="~/images/courses/@items.Picture" alt=""></a>
                        <div class="down-content">
                            <a href="#"><h4>@items.Title</h4></a>
                            @if (items.PriceStatus is true)
                            {
                                <h6> paid </h6>
                            }
                            else
                            {
                                <h6>free  </h6>
                            }
                            <p>@items.CourseDescription</p>
                            <ul class="stars">
                                <li><i class="fa fa-star">@items.AverageRating</i></li>
                            </ul>
                            <span>Reviews (24)</span>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>



<div class="container">
    <div class="row">

    <div class="padding">
  
            <div class="latest-products">
                <div class="reviews-container">
                        <div class="col-md-12">
                            <div class="section-heading">
                                <h2>Reviews</h2>
                                @*   <a asp-controller="home" asp-action="course">view all courses <i class="fa fa-angle-right"></i></a> *@
                            </div>
                        </div>
                    @foreach (var items in reviews)
                    {
                        <div class="course-reviews">
                            <div class="review-card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <div class="d-flex">
                                            <div class="user-info">
                                                <strong>@items.Student</strong>
                                                <span class="text-muted small">@items.RatingDate.Value.Month </span>
                                                <ul class="stars">
                                                    @switch (items.Rate)
                                                    {
                                                        case 5:
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            break;
                                                        case 4:
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            break;
                                                        case 3:
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            break;
                                                        case 2:
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            break;
                                                        default:
                                                            <i class="fa fa-star"></i>
                                                            break;
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                        @*                                                             <div class="dropdown">
                                    <button class="btn btn-link p-0"
                                    type="button"
                                    id="dropdownMenuButton1"
                                    data-bs-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false">
                                    <i class="fa fa-ellipsis-v"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right"
                                    aria-labelledby="dropdownMenuButton1">
                                    <a class="dropdown-item" asp-controller="report" asp-action="addreport" asp-route-Id="@items.ReviewId">Report</a>
                                    </div>
                                    </div> *@
                                    </div>
                                    <p>@items.Descritipn</p>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

</div>
</div>



@* <div class="latest-products">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-heading">
                    <h2>Recent Reviews</h2>

                </div>
            </div>

            @foreach (var items in reviews)
            {

				<div class="col-md-4">
					<a href="c:\users\scorpion\source\repos\a4ogroup\webapplication2\webapplication2\views\instructor\index.cshtml">c:\users\scorpion\source\repos\a4ogroup\webapplication2\webapplication2\views\instructor\index.cshtml</a>
                    <div class="product-item">
                        <!--<a href="#"><img src="assets/images/product_01.jpg" alt=""></a>-->
                        <div class="down-content">
                            <!--<a href="#"><h4>Tittle goes here</h4></a>-->
                            <h4>@items.Student</h4>
                            <h6>@items.RatingDate.ToString()</h6>
                            <ul class="stars">
                                @switch (items.Rate)
                                {
                                    case 5:
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        break;
                                    case 4:
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>

                                        break;
                                    case 3:
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>

                                        break;
                                    case 2:
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>

                                        break;
                                    default:
                                        <li><i class="fa fa-star"></i></li>
                                        break;
                                }
                            </ul>
                            <p>@items.Descritipn</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>  *@